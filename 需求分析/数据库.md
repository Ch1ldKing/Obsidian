
数据库管理系统通过 **API** 提供的 CRUD 功能
schema 定义数据库结构格式
ERD 主要定义 schema
SQL主要操作（语句）：
Insert，Delete，Update，Select
ER 图表示实体之间的关系，表示实体当中的属性
多对多用中转连接
# 关系数据库
表和关系
一个 **表** 对应一个实体，表中有关键属性，表和表之间通过关键属性链接。
# 数据库设计
## 概念 ERD 
宏观识别实体及之间关系
## 逻辑 ERD
明确实体的属性，表达关联关系（多对多之间增加关联实体）
## 物理 ERD
数据实体转化为 **数据表** ，定义数据表的属性的细节，增加用于表达表与表之间关系的新属性（数据库结构）
1. 识别所有数据实体：DFD 的全部数据存储，分析类图中的部分类
2. 实体属性
3. 关联关系
4. 多对多建立关联实体
5. 实体规范化（3NF）
ER 图 可以分割
冗余项：由其他基本项算出来的
# 规范化
有一个关键属性key，其他属性通过函数关系映射到该 key，且其他属性之间没有函数关系
# 完整性约束
1. 域的完整性：规定字段的取值范围
2. 参照完整性：删除某个数据，会不会影响其他数据的完整性
# OO 映射数据库
把类映射到数据库的表中
![[图像.jpeg]]
关系映射到关系数据库
1 对 1：两个表中增加 Primary Key，并建立两个 PK 的联系
1 对多：每个表增加 PK，在多的表中增加 Foreign Key，与 1 表中的 PK 关联
多对多：建立关联表，其中有两个 FK 分别关联 1,2的 PK，可能产生附加属性
![[图像 2.jpeg]]
循环多对多：关联表有三个 FK，三个表搅在一起，缺一不可
不需要考虑关系紧不紧密
父子关系：
1. 比如父表中放学院的属性，子表中有教师的性别，姓名；学生的性别姓名
2. 把父表并到子表里面，教师有学院的属性（计算学部），学生也有；可能产生冗余
3. 都合并到父表，增加属性表示学生，教师
